"use strict";(self.webpackChunkshop=self.webpackChunkshop||[]).push([[145],{30145:(L,y,s)=>{s.r(y),s.d(y,{StoresModule:()=>b});var p=s(36895),g=s(36264),A=s(61135),C=s(39646),w=s(39841),v=s(63900),P=s(70262),Z=s(54004),T=s(18505),t=s(94650),x=s(80529);class u{constructor(e){this.http=e,this.baseUrl="https://z-store-apis-b6lh.vercel.app/store"}getAnalytics(e){return this.http.get(`/api/stores/${e}/analytics`)}getStore(e){return this.http.get(`${this.baseUrl}/getStore/${e}`,{headers:{authorization:`Bearer__${localStorage.getItem("userToken")}`}})}}u.\u0275fac=function(e){return new(e||u)(t.LFG(x.eN))},u.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"});class l{constructor(e){this.http=e,this.base="https://z-store-apis-b6lh.vercel.app/Product"}addProduct(e){return this.http.post(`${this.base}`,e)}editProduct(e,n){return this.http.put(`${this.base}/${encodeURIComponent(e)}`,n)}getProduct(e){return this.http.get(`${this.base}/${encodeURIComponent(e)}`)}getStoreProducts(e,n={}){let o=new x.LE;return null!=n.page&&(o=o.set("page",String(n.page))),null!=n.limit&&(o=o.set("size",String(n.limit))),n.q&&(o=o.set("q",n.q)),n.category&&(o=o.set("category",n.category)),null!=n.minPrice&&(o=o.set("minPrice",String(n.minPrice))),null!=n.maxPrice&&(o=o.set("maxPrice",String(n.maxPrice))),this.http.get(`${this.base}/store/${encodeURIComponent(e)}`,{params:o})}deleteProduct(e){return this.http.delete(`${this.base}/${encodeURIComponent(e)}`)}uploadProductImage(e,n){return this.http.post(`${this.base}/${encodeURIComponent(e)}/upload-image`,n)}}l.\u0275fac=function(e){return new(e||l)(t.LFG(x.eN))},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"});class m{constructor(e){this.http=e}getStoreOrders(e,n={page:1,limit:10}){return this.http.get(`/api/stores/${e}/orders?page=${n.page??1}&limit=${n.limit??10}`)}}function k(r,e){if(1&r&&(t.TgZ(0,"small"),t._uU(1),t.qZA()),2&r){const n=t.oxw();t.xp6(1),t.hij("Store ID: ",n.storeId,"")}}function U(r,e){if(1&r&&(t.ynx(0),t.TgZ(1,"div",27)(2,"div",28),t._uU(3),t.ALo(4,"number"),t.qZA(),t.TgZ(5,"div",29),t._uU(6,"Revenue"),t.qZA()(),t.TgZ(7,"div",27)(8,"div",28),t._uU(9),t.qZA(),t.TgZ(10,"div",29),t._uU(11,"Orders"),t.qZA()(),t.TgZ(12,"div",27)(13,"div",28),t._uU(14),t.qZA(),t.TgZ(15,"div",29),t._uU(16,"Products"),t.qZA()(),t.BQk()),2&r){const n=e.ngIf;t.xp6(3),t.Oqu(t.lcZ(4,3,n.totalRevenue)),t.xp6(6),t.Oqu(n.totalOrders),t.xp6(5),t.Oqu(n.totalProducts)}}function q(r,e){if(1&r&&(t.TgZ(0,"div")(1,"p"),t._uU(2),t.ALo(3,"currency"),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"currency"),t.qZA()()),2&r){const n=e.ngIf;t.xp6(2),t.hij("Total Revenue: ",t.lcZ(3,3,n.totalRevenue),""),t.xp6(3),t.hij("Total Orders: ",n.totalOrders,""),t.xp6(2),t.hij("Avg Order Value: ",t.lcZ(8,5,n.avgOrderValue),"")}}function S(r,e){1&r&&(t.TgZ(0,"p"),t._uU(1,"No analytics available."),t.qZA())}function I(r,e){1&r&&(t.TgZ(0,"p"),t._uU(1,"No recent orders."),t.qZA())}function F(r,e){1&r&&(t.TgZ(0,"p"),t._uU(1,"No products found."),t.qZA())}m.\u0275fac=function(e){return new(e||m)(t.LFG(x.eN))},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"});class O{constructor(e,n,o,a,c,d){this.storesSvc=e,this.productsSvc=n,this.ordersSvc=o,this.router=a,this.cdr=c,this.route=d,this.refresh$=new A.X(void 0),this.loading=!1,this.error="",this.subs=[],this.storeId=this.route.snapshot.paramMap.get("id")}ngOnInit(){this.analytics$=this.refresh$.pipe((0,v.w)(()=>this.storesSvc.getAnalytics(this.storeId).pipe((0,P.K)(e=>(console.error("analytics error",e),this.error="Failed to load analytics",this.cdr.markForCheck(),(0,C.of)(null)))))),this.recentOrders$=this.refresh$.pipe((0,v.w)(()=>this.ordersSvc.getStoreOrders(this.storeId,{page:1,limit:6}).pipe((0,Z.U)(e=>e?.orders??[]),(0,P.K)(e=>(console.error("orders error",e),this.error="Failed to load orders",this.cdr.markForCheck(),(0,C.of)([])))))),this.productsSummary$=this.refresh$.pipe((0,v.w)(()=>this.productsSvc.getStoreProducts(this.storeId,{page:1,limit:20}).pipe((0,Z.U)(e=>e?.products??[]),(0,P.K)(e=>(console.error("products error",e),this.error="Failed to load products",this.cdr.markForCheck(),(0,C.of)([])))))),this.totals$=(0,w.a)([this.analytics$,this.productsSummary$,this.recentOrders$]).pipe((0,Z.U)(([e,n,o])=>({totalOrders:e?.totalOrders??o?.length??0,totalRevenue:e?.totalRevenue??0,totalProducts:n?.length??0})),(0,P.K)(e=>(console.error("totals error",e),(0,C.of)({totalOrders:0,totalRevenue:0,totalProducts:0})))),this.triggerRefresh()}triggerRefresh(){this.error="",this.refresh$.next()}goAddProduct(){this.router.navigate(["/store",this.storeId,"admin","products","new"])}openStorePublic(){this.router.navigate(["/store",this.storeId])}onRemoveProduct(e,n){if(!confirm("Delete this product?")||this.loading)return;this.loading=!0,this.cdr.markForCheck();const o=this.productsSvc.deleteProduct(e).pipe((0,T.b)(a=>{this.triggerRefresh()}),(0,P.K)(a=>(console.error("delete product error",a),alert(a?.error?.message??"Failed to delete product"),(0,C.of)(null)))).subscribe({complete:()=>{this.loading=!1,this.cdr.markForCheck()}});this.subs.push(o)}trackById(e,n){return n?._id??e}openProductEditor(e){this.storeId?this.router.navigate(["/store",this.storeId,"admin","products",e,"edit"]):console.warn("no storeId found")}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}O.\u0275fac=function(e){return new(e||O)(t.Y36(u),t.Y36(l),t.Y36(m),t.Y36(g.F0),t.Y36(t.sBO),t.Y36(g.gz))},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-store-dashboard"]],decls:69,vars:8,consts:[[1,"dashboard-card"],[1,"topbar"],[1,"title"],[4,"ngIf"],[1,"actions"],[1,"btn",3,"click"],[1,"btn","primary",3,"click"],[1,"btn","outline",3,"click"],[1,"tiles"],[1,"content"],[1,"analytics"],[4,"ngIf","ngIfElse"],["noAnalytics",""],[1,"admin-area"],[1,"dashboard-default"],[1,"orders"],[1,"orders-table"],["noOrders",""],[1,"products"],[1,"products-list"],[1,"product-row"],[1,"meta"],[1,"small"],[1,"controls"],[1,"btn","outline","small"],[1,"btn","danger","small"],["noProducts",""],[1,"tile"],[1,"num"],[1,"label"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"header",1)(2,"div",2)(3,"h2"),t._uU(4,"Store Dashboard"),t.qZA(),t.YNc(5,k,2,1,"small",3),t.qZA(),t.TgZ(6,"div",4)(7,"button",5),t.NdJ("click",function(){return n.openStorePublic()}),t._uU(8,"Open Store"),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return n.goAddProduct()}),t._uU(10,"Add product"),t.qZA(),t.TgZ(11,"button",7),t.NdJ("click",function(){return n.triggerRefresh()}),t._uU(12,"Refresh"),t.qZA()()(),t.TgZ(13,"section",8),t.YNc(14,U,17,5,"ng-container",3),t.ALo(15,"async"),t.qZA(),t.TgZ(16,"main",9)(17,"aside",10)(18,"h3"),t._uU(19,"Analytics"),t.qZA(),t.YNc(20,q,9,7,"div",11),t.ALo(21,"async"),t.YNc(22,S,2,0,"ng-template",null,12,t.W1O),t.qZA(),t.TgZ(24,"section",13),t._UZ(25,"router-outlet"),t.TgZ(26,"div",14)(27,"section",15)(28,"h3"),t._uU(29,"Recent Orders"),t.qZA(),t.TgZ(30,"table",16)(31,"thead")(32,"tr")(33,"th"),t._uU(34,"#"),t.qZA(),t.TgZ(35,"th"),t._uU(36,"Customer"),t.qZA(),t.TgZ(37,"th"),t._uU(38,"Items"),t.qZA(),t.TgZ(39,"th"),t._uU(40,"Total"),t.qZA(),t.TgZ(41,"th"),t._uU(42,"Status"),t.qZA(),t.TgZ(43,"th"),t._uU(44,"When"),t.qZA()()(),t.TgZ(45,"tbody"),t._UZ(46,"tr"),t.qZA()(),t.YNc(47,I,2,0,"ng-template",null,17,t.W1O),t.qZA(),t.TgZ(49,"section",18)(50,"h3"),t._uU(51,"Products"),t.qZA(),t.TgZ(52,"div")(53,"div",19)(54,"div",20)(55,"div",21)(56,"div",2),t._uU(57,"ejygf dsif "),t.qZA(),t.TgZ(58,"div",22),t._uU(59,"Price: 10"),t.qZA(),t.TgZ(60,"div",22),t._uU(61,"Qty: 10"),t.qZA()(),t.TgZ(62,"div",23)(63,"button",24),t._uU(64,"Edit"),t.qZA(),t.TgZ(65,"button",25),t._uU(66,"Delete"),t.qZA()()()()(),t.YNc(67,F,2,0,"ng-template",null,26,t.W1O),t.qZA()()()()()),2&e){const o=t.MAs(23);t.xp6(5),t.Q6J("ngIf",n.storeId),t.xp6(9),t.Q6J("ngIf",t.lcZ(15,4,n.totals$)),t.xp6(6),t.Q6J("ngIf",t.lcZ(21,6,n.analytics$))("ngIfElse",o)}},dependencies:[p.O5,g.lC,p.Ov,p.JJ,p.H9],styles:["[_ngcontent-%COMP%]:root{--card-bg: #ffffff;--card-shadow: 0 6px 18px rgba(0,0,0,.06);--muted: #666666;--border: #e9eef3;--accent: #2b6cb0;--danger: #e53e3e;--space-xs: 6px;--space-sm: 10px;--space-md: 16px;--space-lg: 24px;--space-xl: 32px;--text-base: 1rem;--text-lg: 1.125rem;--radius: 10px;--tile-bg: #f8fafc}.dashboard-card[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:16px auto;padding:var(--space-md);background:var(--card-bg);border-radius:var(--radius);box-shadow:var(--card-shadow);box-sizing:border-box;color:#111827;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial}.dashboard-card[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:var(--space-sm);margin-bottom:var(--space-md);flex-wrap:wrap}.dashboard-card[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.dashboard-card[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:clamp(1.05rem,2.5vw,1.25rem);line-height:1.1}.dashboard-card[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--muted);font-size:.85rem}.dashboard-card[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;margin-left:auto}.dashboard-card[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px 12px;border-radius:8px;border:none;cursor:pointer;font-size:.95rem;background:transparent;transition:transform .12s ease,box-shadow .12s ease}.dashboard-card[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.dashboard-card[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{background:var(--accent);color:#fff;box-shadow:0 3px 8px #2b6cb01f}.dashboard-card[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .outline[_ngcontent-%COMP%]{border:1px solid var(--border);color:#111827;background:transparent}.dashboard-card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:var(--space-sm);margin-bottom:var(--space-md)}.dashboard-card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]{padding:var(--space-sm);background:var(--tile-bg);border-radius:8px;text-align:center;display:flex;flex-direction:column;gap:6px;align-items:center}.dashboard-card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{font-size:clamp(1rem,3.5vw,1.25rem);font-weight:700}.dashboard-card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--muted);font-size:.9rem}.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:var(--space-md)}.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics[_ngcontent-%COMP%], .dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .orders[_ngcontent-%COMP%], .dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]{background:#fff;padding:var(--space-sm);border-radius:8px;border:1px solid var(--border)}.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .orders[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:640px}.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .orders[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:10px;font-size:.9rem;color:#374151;background:transparent}.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .orders[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border-top:1px solid #f3f6f9;font-size:.95rem}.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .orders[_ngcontent-%COMP%]   .table-wrap[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   .products-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   .product-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:10px;border-radius:8px;background:#fbfdff;flex-wrap:wrap}.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:cover;border-radius:8px;flex:0 0 72px}.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{flex:1 1 auto;min-width:0}.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:.98rem}.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{color:var(--muted);font-size:.9rem}.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;gap:8px;flex:0 0 auto;align-items:center}.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:7px 9px;border-radius:6px;cursor:pointer}.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]   .danger[_ngcontent-%COMP%]{background:var(--danger);color:#fff;border:none}@media (min-width: 640px){.dashboard-card[_ngcontent-%COMP%]{padding:var(--space-lg)}.dashboard-card[_ngcontent-%COMP%]   .tiles[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width: 900px){.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{grid-template-columns:320px 1fr;gap:var(--space-lg)}.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .analytics[_ngcontent-%COMP%]{position:sticky;top:18px;height:-moz-fit-content;height:fit-content}.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .orders[_ngcontent-%COMP%], .dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]{grid-column:2 / 3}.dashboard-card[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{gap:12px}}@media (min-width: 1200px){.dashboard-card[_ngcontent-%COMP%]{max-width:1400px}}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:8px;font-weight:600;line-height:1;white-space:nowrap}img[_ngcontent-%COMP%]{max-width:100%;height:auto;display:block}.compact[_ngcontent-%COMP%]{padding:8px}.compact[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:.95rem}[_ngcontent-%COMP%]:focus{outline:3px solid rgba(43,108,176,.18);outline-offset:2px}.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .orders[_ngcontent-%COMP%]   .table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.dashboard-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .orders[_ngcontent-%COMP%]   .table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(0,0,0,.12);border-radius:999px}"],changeDetection:0});var i=s(24006);function N(r,e){if(1&r){const n=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){const c=t.CHM(n).$implicit,d=t.oxw();return t.KtG(d.selectCategory(c))}),t._uU(1),t.qZA()}if(2&r){const n=e.$implicit,o=t.oxw();t.ekj("active",n===o.selectedCategory),t.xp6(1),t.Oqu(n)}}function $(r,e){if(1&r&&(t.TgZ(0,"span",48),t._uU(1),t.qZA()),2&r){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.badge)}}function z(r,e){if(1&r){const n=t.EpF();t.TgZ(0,"article",35)(1,"div",36),t._UZ(2,"img",37),t.YNc(3,$,2,1,"span",38),t.qZA(),t.TgZ(4,"div",39)(5,"h4",40),t._uU(6),t.qZA(),t.TgZ(7,"p",41),t._uU(8),t.qZA(),t.TgZ(9,"div",42)(10,"div",43),t._uU(11),t.qZA(),t.TgZ(12,"div",44),t._uU(13),t.qZA()(),t.TgZ(14,"div",45)(15,"button",46),t.NdJ("click",function(){const c=t.CHM(n).$implicit,d=t.oxw();return t.KtG(d.addToCart(c))}),t._uU(16,"Add to cart"),t.qZA(),t.TgZ(17,"button",47),t._uU(18,"View"),t.qZA()()()()}if(2&r){const n=e.$implicit;t.xp6(2),t.Q6J("src",n.image,t.LSH)("alt",n.title),t.xp6(1),t.Q6J("ngIf",n.badge),t.xp6(3),t.Oqu(n.title),t.xp6(2),t.Oqu(n.category),t.xp6(3),t.hij("$",n.price,""),t.xp6(2),t.hij("\u2b50 ",n.rating,"")}}function J(r,e){1&r&&(t.TgZ(0,"div",49),t._uU(1,"No products found."),t.qZA())}class h{constructor(){this.search="",this.selectedCategory="All",this.sortBy="popular",this.cart=[],this.categories=["All","Electronics","Home","Fashion","Outdoors","Toys"],this.fakeProducts=[{id:"p1",title:"Wireless Headphones",price:89,rating:4.5,category:"Electronics",image:"https://picsum.photos/seed/head/600/400",badge:"Top"},{id:"p2",title:"Modern Table Lamp",price:45,rating:4.2,category:"Home",image:"https://picsum.photos/seed/lamp/600/400"},{id:"p3",title:"Athletic Sneakers",price:120,rating:4.7,category:"Fashion",image:"https://picsum.photos/seed/shoes/600/400",badge:"New"},{id:"p4",title:"Camping Tent (2p)",price:199,rating:4.3,category:"Outdoors",image:"https://picsum.photos/seed/tent/600/400"},{id:"p5",title:"Wooden Serving Board",price:29,rating:4.1,category:"Home",image:"https://picsum.photos/seed/board/600/400"},{id:"p6",title:"Smartwatch Series 5",price:249,rating:4.6,category:"Electronics",image:"https://picsum.photos/seed/watch/600/400",badge:"Hot"},{id:"p7",title:"Kids Building Blocks",price:34,rating:4.4,category:"Toys",image:"https://picsum.photos/seed/blocks/600/400"},{id:"p8",title:"Cozy Knit Sweater",price:79,rating:4,category:"Fashion",image:"https://picsum.photos/seed/sweater/600/400"}]}ngOnInit(){}get filteredProducts(){const e=this.search.trim().toLowerCase();let n=this.fakeProducts.filter(o=>("All"===this.selectedCategory||o.category===this.selectedCategory)&&(!e||o.title.toLowerCase().includes(e)||(o.description||"").toLowerCase().includes(e)));switch(this.sortBy){case"new":n=n.slice().reverse();break;case"price-asc":n=n.slice().sort((o,a)=>o.price-a.price);break;case"price-desc":n=n.slice().sort((o,a)=>a.price-o.price);break;default:n=n.slice().sort((o,a)=>a.rating-o.rating)}return n}selectCategory(e){this.selectedCategory=e}addToCart(e){this.cart.push(e),alert(`"${e.title}" added to cart.`)}}function D(r,e){1&r&&(t.TgZ(0,"small",21),t._uU(1,"Name required"),t.qZA())}function E(r,e){if(1&r){const n=t.EpF();t.TgZ(0,"div",22),t._UZ(1,"input",23)(2,"input",24),t.TgZ(3,"button",25),t.NdJ("click",function(){const c=t.CHM(n).index,d=t.oxw();return t.KtG(d.removeAttribute(c))}),t._uU(4,"Remove"),t.qZA()()}2&r&&t.Q6J("formGroupName",e.index)}function Y(r,e){if(1&r){const n=t.EpF();t.TgZ(0,"div",26),t._UZ(1,"img",27),t.TgZ(2,"button",25),t.NdJ("click",function(){const c=t.CHM(n).index,d=t.oxw();return t.KtG(d.removeImage(c))}),t._uU(3,"Remove"),t.qZA()()}if(2&r){const n=e.$implicit;t.xp6(1),t.Q6J("src",n,t.LSH)}}function R(r,e){if(1&r&&(t.TgZ(0,"div",21),t._uU(1),t.qZA()),2&r){const n=t.oxw();t.xp6(1),t.Oqu(n.error)}}h.\u0275fac=function(e){return new(e||h)},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-storefront"]],decls:64,vars:4,consts:[[1,"storefront-root"],[1,"topbar"],[1,"brand"],[1,"search"],["placeholder","Search products, e.g., headphones"],["aria-label","search"],[1,"cart"],[1,"cart-btn"],[1,"count"],[1,"hero"],[1,"hero-inner"],[1,"hero-actions"],[1,"btn-primary"],[1,"btn-ghost"],["src","https://picsum.photos/seed/hero/1200/500","alt","hero"],[1,"categories"],[1,"cats-row"],[3,"active","click",4,"ngFor","ngForOf"],[1,"controls"],["value","popular"],["value","new"],["value","price-asc"],["value","price-desc"],[1,"content"],[1,"filters"],[1,"filter-block"],[1,"range-row"],["type","number","placeholder","Min"],["type","number","placeholder","Max"],[1,"products"],[1,"grid"],["class","product-card",4,"ngFor","ngForOf"],["class","empty",4,"ngIf"],[1,"footer"],[3,"click"],[1,"product-card"],[1,"media"],[3,"src","alt"],["class","badge",4,"ngIf"],[1,"body"],[1,"title"],[1,"cat"],[1,"meta"],[1,"price"],[1,"rating"],[1,"actions"],[1,"add",3,"click"],[1,"view"],[1,"badge"],[1,"empty"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"header",1)(2,"div",2),t._uU(3,"MyStore"),t.qZA(),t.TgZ(4,"div",3),t._UZ(5,"input",4),t.TgZ(6,"button",5),t._uU(7,"\u{1f50d}"),t.qZA()(),t.TgZ(8,"div",6)(9,"button",7),t._uU(10,"\u{1f6d2} "),t.TgZ(11,"span",8),t._uU(12),t.qZA()()()(),t.TgZ(13,"section",9)(14,"div",10)(15,"h1"),t._uU(16,"Discover modern gear that fits your life"),t.qZA(),t.TgZ(17,"p"),t._uU(18,"Curated picks \u2014 fast delivery \u2014 secure checkout"),t.qZA(),t.TgZ(19,"div",11)(20,"button",12),t._uU(21,"Shop Bestsellers"),t.qZA(),t.TgZ(22,"button",13),t._uU(23,"See new arrivals"),t.qZA()()(),t._UZ(24,"img",14),t.qZA(),t.TgZ(25,"nav",15)(26,"div",16),t.YNc(27,N,2,3,"button",17),t.qZA(),t.TgZ(28,"div",18)(29,"label"),t._uU(30," Sort "),t.TgZ(31,"select")(32,"option",19),t._uU(33,"Popular"),t.qZA(),t.TgZ(34,"option",20),t._uU(35,"New"),t.qZA(),t.TgZ(36,"option",21),t._uU(37,"Price: Low \u2191"),t.qZA(),t.TgZ(38,"option",22),t._uU(39,"Price: High \u2193"),t.qZA()()()()(),t.TgZ(40,"main",23)(41,"aside",24)(42,"h3"),t._uU(43,"Filters"),t.qZA(),t.TgZ(44,"div",25)(45,"label"),t._uU(46,"Price range"),t.qZA(),t.TgZ(47,"div",26),t._UZ(48,"input",27)(49,"input",28),t.qZA()(),t.TgZ(50,"div",25)(51,"label"),t._uU(52,"Rating"),t.qZA(),t.TgZ(53,"div"),t._uU(54,"4\xa0\u2605 & up"),t.qZA()()(),t.TgZ(55,"section",29)(56,"div",30),t.YNc(57,z,19,7,"article",31),t.qZA(),t.YNc(58,J,2,0,"div",32),t.qZA()(),t.TgZ(59,"footer",33)(60,"div"),t._uU(61,"\xa92025 MyStore"),t.qZA(),t.TgZ(62,"div"),t._uU(63,"Made with \u2665 for beautiful shopping experiences"),t.qZA()()()),2&e&&(t.xp6(12),t.Oqu(n.cart.length),t.xp6(15),t.Q6J("ngForOf",n.categories),t.xp6(30),t.Q6J("ngForOf",n.filteredProducts),t.xp6(1),t.Q6J("ngIf",0===n.filteredProducts.length))},dependencies:[p.sg,p.O5,i.YN,i.Kr],styles:["[_ngcontent-%COMP%]:root{--bg: #f6f7fb;--card: #ffffff;--accent: #5b6cff;--muted: #6b7280;--text: #0f172a}.storefront-root[_ngcontent-%COMP%]{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial;color:var(--text);background:var(--bg);min-height:100vh}.topbar[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;justify-content:space-between;padding:1rem 1.25rem;background:transparent}.brand[_ngcontent-%COMP%]{font-weight:700;font-size:1.25rem;color:var(--accent)}.search[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex:1;max-width:640px;margin:0 1rem}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:.6rem .75rem;border-radius:10px;border:1px solid rgba(15,23,42,.06);box-shadow:0 1px 2px #0f172a08;outline:none}.search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:0;font-size:1rem}.cart[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{background:var(--card);border-radius:10px;padding:.45rem .7rem;border:1px solid rgba(15,23,42,.06)}.cart[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background:var(--accent);color:#fff;padding:.15rem .45rem;border-radius:999px;margin-left:.4rem;font-size:.85rem}.hero[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem;padding:1.5rem 1.25rem}.hero-inner[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgba(91,108,255,.06),transparent);padding:1rem;border-radius:12px;display:flex;flex-direction:column;gap:.5rem}.hero-inner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.6rem}.hero-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--muted)}.hero[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:220px;object-fit:cover;border-radius:12px;margin-top:.75rem}.hero-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.btn-primary[_ngcontent-%COMP%]{background:var(--accent);color:#fff;padding:.6rem .9rem;border-radius:10px;border:0}.btn-ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(15,23,42,.06);padding:.6rem .9rem;border-radius:10px}.categories[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 1.25rem;margin-top:.75rem}.cats-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.cats-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:0;padding:.5rem .7rem;border-radius:999px;border:1px solid rgba(15,23,42,.04)}.cats-row[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--accent),#7b83ff);color:#fff;border:0}.controls[_ngcontent-%COMP%]{color:var(--muted)}.content[_ngcontent-%COMP%]{display:grid;grid-template-columns:260px 1fr;gap:1rem;padding:1rem 1.25rem}.filters[_ngcontent-%COMP%]{background:var(--card);padding:1rem;border-radius:12px;border:1px solid rgba(15,23,42,.04)}.products[_ngcontent-%COMP%]{min-height:200px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.product-card[_ngcontent-%COMP%]{background:var(--card);border-radius:12px;overflow:hidden;border:1px solid rgba(15,23,42,.04);display:flex;flex-direction:column;transition:transform .18s ease,box-shadow .18s ease}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 10px 30px #0f172a14}.media[_ngcontent-%COMP%]{position:relative;height:160px;overflow:hidden}.media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.badge[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;background:var(--accent);color:#fff;padding:.25rem .5rem;border-radius:8px;font-size:.8rem}.body[_ngcontent-%COMP%]{padding:.9rem;display:flex;flex-direction:column;gap:.5rem;flex:1}.title[_ngcontent-%COMP%]{margin:0;font-size:1rem}.cat[_ngcontent-%COMP%]{margin:0;color:var(--muted);font-size:.85rem}.meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:600}.actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:auto}.actions[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{flex:1;padding:.5rem;border-radius:8px;border:0;background:var(--accent);color:#fff}.actions[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]{padding:.5rem;border-radius:8px;border:1px solid rgba(15,23,42,.06)}.empty[_ngcontent-%COMP%]{padding:2rem;text-align:center;color:var(--muted)}.footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem 1.25rem;color:var(--muted)}@media (max-width: 1024px){.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.content[_ngcontent-%COMP%]{grid-template-columns:220px 1fr}}@media (max-width: 760px){.topbar[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.search[_ngcontent-%COMP%]{max-width:none;margin:0}.content[_ngcontent-%COMP%]{grid-template-columns:1fr}.filters[_ngcontent-%COMP%]{order:2}.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.hero[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:160px}}@media (prefers-color-scheme: dark){[_ngcontent-%COMP%]:root{--bg: #0b1220;--card: #0f1724;--text: #e6eef8;--muted: #9aa6bd;--accent: #7c8bff }}button[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:3px solid rgba(91,108,255,.18);outline-offset:2px}"]});class f{constructor(e,n,o,a,c){this.fb=e,this.productsSvc=n,this.router=o,this.route=a,this.cdr=c,this.images=[],this.previews=[],this.loading=!1,this.error="",this.isEditMode=!1,this.productId=null,this.subs=[],this.MAX_IMAGES=6,this.MAX_IMAGE_SIZE=5242880,this.form=this.fb.group({name:["",[i.kI.required,i.kI.minLength(2)]],description:[""],price:[0,[i.kI.required,i.kI.min(0)]],discount:[0],totalItems:[0,[i.kI.required,i.kI.min(0)]],categoryId:[null],tags:[""],attributes:this.fb.array([])})}ngOnInit(){const e=this.route.snapshot.paramMap.get("productId"),n=this.route.parent?.snapshot.paramMap.get("id");!this.storeId&&n&&(this.storeId=n),e&&(this.isEditMode=!0,this.productId=e,this.loadProductForEdit(e))}get attributes(){return this.form.get("attributes")}addAttribute(e="",n=""){this.attributes.push(this.fb.group({key:[e],value:[n]})),this.cdr.markForCheck()}removeAttribute(e){this.attributes.removeAt(e),this.cdr.markForCheck()}onFilesSelected(e){const n=Array.from(e.target.files??[]);if(n.length)for(const o of n){if(this.images.length>=this.MAX_IMAGES)break;if(!o.type.startsWith("image/")||o.size>this.MAX_IMAGE_SIZE)continue;this.images.push(o);const a=new FileReader;a.onload=()=>{this.previews.push(a.result),this.cdr.markForCheck()},a.readAsDataURL(o)}}removeImage(e){this.images.splice(e,1),this.previews.splice(e,1),this.cdr.markForCheck()}loadProductForEdit(e){this.loading=!0,this.cdr.markForCheck();const n=this.productsSvc.getProduct(e).subscribe({next:o=>{const a=o?.product;a?(this.form.patchValue({name:a.name,description:a.description,price:a.price,discount:a.discount??0,totalItems:a.totalItems??0,categoryId:a.categoryId??null,tags:(a.tags??[]).join(",")}),Array.isArray(a.attributes)&&a.attributes.forEach(c=>this.addAttribute(c.key,c.value)),Array.isArray(a.images)&&(this.previews=a.images.map(c=>c.url?c.url:c))):this.error="Product not found"},error:o=>{console.error("load product",o),this.error="Failed to load product"},complete:()=>{this.loading=!1,this.cdr.markForCheck()}});this.subs.push(n)}submit(){if(this.error="",this.form.invalid)return this.form.markAllAsTouched(),this.error="Please fix the errors",void this.cdr.markForCheck();if(this.loading)return;this.loading=!0,this.cdr.markForCheck();const e=new FormData;e.append("name",this.form.value.name.trim()),e.append("description",this.form.value.description??""),e.append("price",String(this.form.value.price)),null!=this.form.value.discount&&e.append("discount",String(this.form.value.discount)),e.append("totalItems",String(this.form.value.totalItems)),this.form.value.categoryId&&e.append("categoryId",this.form.value.categoryId),this.form.value.tags&&e.append("tags",String(this.form.value.tags));const n=(this.form.value.attributes??[]).filter(c=>c.key&&c.value);n.length&&e.append("attributes",JSON.stringify(n)),this.images.forEach(c=>e.append("images",c,c.name)),this.storeId&&e.append("storeId",String(this.storeId));const a=(this.isEditMode&&this.productId?this.productsSvc.editProduct(this.productId,e):this.productsSvc.addProduct(e)).subscribe({next:c=>{this.router.navigate(["/store",this.storeId,"admin","products"])},error:c=>{console.error("save product",c),this.error=c?.error?.message??"Failed to save product"},complete:()=>{this.loading=!1,this.cdr.markForCheck()}});this.subs.push(a)}cancel(){this.router.navigate(["/store",this.storeId,"admin","products"])}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}f.\u0275fac=function(e){return new(e||f)(t.Y36(i.qu),t.Y36(l),t.Y36(g.F0),t.Y36(g.gz),t.Y36(t.sBO))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-product-form"]],decls:54,vars:9,consts:[[1,"product-form-card"],[1,"form",3,"formGroup","ngSubmit"],[1,"row"],["formControlName","name","type","text"],["class","err",4,"ngIf"],["formControlName","description","rows","4"],[1,"row","two-cols"],["type","number","formControlName","price"],["type","number","formControlName","discount"],["type","number","formControlName","totalItems"],["type","text","formControlName","categoryId","placeholder","category id or pick from list"],["formControlName","tags"],["formArrayName","attributes",1,"attrs"],["class","attr-row",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","small",3,"click"],["type","file","multiple","","accept","image/*",3,"change"],[1,"previews"],["class","preview",4,"ngFor","ngForOf"],[1,"row","actions"],["type","submit",1,"btn","primary",3,"disabled"],["type","button",1,"btn","outline",3,"click"],[1,"err"],[1,"attr-row",3,"formGroupName"],["formControlName","key","placeholder","Key (e.g. size)"],["formControlName","value","placeholder","Value (e.g. M)"],["type","button",1,"btn","small","danger",3,"click"],[1,"preview"],["alt","preview",3,"src"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return n.submit()}),t.TgZ(4,"div",2)(5,"label"),t._uU(6,"Name *"),t.qZA(),t._UZ(7,"input",3),t.YNc(8,D,2,0,"small",4),t.qZA(),t.TgZ(9,"div",2)(10,"label"),t._uU(11,"Description"),t.qZA(),t._UZ(12,"textarea",5),t.qZA(),t.TgZ(13,"div",6)(14,"div")(15,"label"),t._uU(16,"Price *"),t.qZA(),t._UZ(17,"input",7),t.qZA(),t.TgZ(18,"div")(19,"label"),t._uU(20,"Discount (%)"),t.qZA(),t._UZ(21,"input",8),t.qZA()(),t.TgZ(22,"div",6)(23,"div")(24,"label"),t._uU(25,"Total Items *"),t.qZA(),t._UZ(26,"input",9),t.qZA(),t.TgZ(27,"div")(28,"label"),t._uU(29,"Category"),t.qZA(),t._UZ(30,"input",10),t.qZA()(),t.TgZ(31,"div",2)(32,"label"),t._uU(33,"Tags (comma separated)"),t.qZA(),t._UZ(34,"input",11),t.qZA(),t.TgZ(35,"div",2)(36,"label"),t._uU(37,"Attributes"),t.qZA(),t.TgZ(38,"div",12),t.YNc(39,E,5,1,"div",13),t.TgZ(40,"button",14),t.NdJ("click",function(){return n.addAttribute()}),t._uU(41,"Add attribute"),t.qZA()()(),t.TgZ(42,"div",2)(43,"label"),t._uU(44),t.qZA(),t.TgZ(45,"input",15),t.NdJ("change",function(a){return n.onFilesSelected(a)}),t.qZA(),t.TgZ(46,"div",16),t.YNc(47,Y,4,1,"div",17),t.qZA()(),t.TgZ(48,"div",18),t.YNc(49,R,2,1,"div",4),t.TgZ(50,"button",19),t._uU(51),t.qZA(),t.TgZ(52,"button",20),t.NdJ("click",function(){return n.cancel()}),t._uU(53,"Cancel"),t.qZA()()()()),2&e){let o;t.xp6(2),t.Oqu(n.isEditMode?"Edit product":"Add product"),t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(5),t.Q6J("ngIf",(null==(o=n.form.get("name"))?null:o.touched)&&(null==(o=n.form.get("name"))?null:o.invalid)),t.xp6(31),t.Q6J("ngForOf",n.attributes.controls),t.xp6(5),t.hij("Images (max ",n.MAX_IMAGES,")"),t.xp6(3),t.Q6J("ngForOf",n.previews),t.xp6(2),t.Q6J("ngIf",n.error),t.xp6(1),t.Q6J("disabled",n.loading),t.xp6(1),t.hij(" ",n.loading?"Saving...":n.isEditMode?"Save changes":"Add product"," ")}},dependencies:[p.sg,p.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,i.x0,i.CE],styles:[".product-form-card[_ngcontent-%COMP%]{max-width:920px;margin:12px auto;padding:14px;background:#fff;border-radius:10px;box-shadow:0 6px 18px #0000000a}.product-form-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px}.product-form-card[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.product-form-card[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:column}.product-form-card[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:6px}.product-form-card[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .product-form-card[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .product-form-card[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:10px;border-radius:8px;border:1px solid #e6edf3;font-size:.95rem}.product-form-card[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .two-cols[_ngcontent-%COMP%]{display:flex;gap:12px}.product-form-card[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .two-cols[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1}.product-form-card[_ngcontent-%COMP%]   .attrs[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.product-form-card[_ngcontent-%COMP%]   .attr-row[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.product-form-card[_ngcontent-%COMP%]   .attr-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:8px;border-radius:6px;border:1px solid #e6edf3}.product-form-card[_ngcontent-%COMP%]   .btn.small[_ngcontent-%COMP%]{padding:6px 8px;border-radius:6px;cursor:pointer}.product-form-card[_ngcontent-%COMP%]   .previews[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}.product-form-card[_ngcontent-%COMP%]   .previews[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{position:relative}.product-form-card[_ngcontent-%COMP%]   .previews[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110px;height:110px;object-fit:cover;border-radius:8px;display:block}.product-form-card[_ngcontent-%COMP%]   .previews[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .btn.small[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;background:rgba(0,0,0,.6);color:#fff;border:none}.product-form-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.product-form-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{color:#b00020;margin-right:auto}.product-form-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px 12px;border-radius:8px;cursor:pointer;border:none}.product-form-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{background:#2b6cb0;color:#fff}.product-form-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .outline[_ngcontent-%COMP%]{background:transparent;border:1px solid #cbd5e1;color:#333}@media (max-width: 820px){.product-form-card[_ngcontent-%COMP%]{padding:12px}.product-form-card[_ngcontent-%COMP%]   .two-cols[_ngcontent-%COMP%]{flex-direction:column}.product-form-card[_ngcontent-%COMP%]   .previews[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:88px;height:88px}}"],changeDetection:0});class M{}M.\u0275fac=function(e){return new(e||M)},M.\u0275cmp=t.Xpm({type:M,selectors:[["app-products-list"]],decls:2,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"products-list works!"),t.qZA())}});const j=[{path:"",redirectTo:"create",pathMatch:"full"},{path:"create",component:h},{path:":id",component:h},{path:":id/admin",component:O,children:[{path:"products",component:M},{path:"products/new",component:f},{path:"products/:productId/edit",component:f},{path:"",redirectTo:"products",pathMatch:"full"}]}];class _{}_.\u0275fac=function(e){return new(e||_)},_.\u0275mod=t.oAB({type:_}),_.\u0275inj=t.cJS({imports:[g.Bz.forChild(j),g.Bz]});class b{}b.\u0275fac=function(e){return new(e||b)},b.\u0275mod=t.oAB({type:b}),b.\u0275inj=t.cJS({imports:[p.ez,_,i.UX]})}}]);